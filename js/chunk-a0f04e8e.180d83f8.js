(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0f04e8e"],{"0546":function(e,o,s){},cf3e:function(e,o,s){"use strict";s.r(o);var t=function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"release bc-f5f7f9"},[s("div",{staticClass:"release-main white-radius wh-1300"},[e._m(0),s("div",{staticClass:"release-sel form-label-12"},[s("label",[e._v("选择游戏")]),s("ul",{staticClass:"sel-list"},[s("li",[s("el-popover",{attrs:{width:"800",placement:"bottom-start"},model:{value:e.popVisible,callback:function(o){e.popVisible=o},expression:"popVisible"}},[s("div",{staticClass:"pop-game-cont"},[s("ul",{staticClass:"llist"},[s("li",[s("el-radio",{attrs:{label:"1",border:"",size:"small"},on:{change:function(o){return e.selGameCls("游戏_端游")}},model:{value:e.radioFro,callback:function(o){e.radioFro=o},expression:"radioFro"}},[e._v("端游")])],1),s("li",[s("el-radio",{attrs:{label:"2",border:"",size:"small"},on:{change:function(o){return e.selGameCls("游戏_手游")}},model:{value:e.radioFro,callback:function(o){e.radioFro=o},expression:"radioFro"}},[e._v("手游")])],1)]),s("ul",{staticClass:"clist"},e._l(e.gameSGoods,function(o){return s("li",{key:o.name,on:{click:function(s){return e.selGames(o)}}},[e._v(e._s(o.name))])}),0)]),s("el-button",{attrs:{slot:"reference",size:"medium",title:e.goodsName},slot:"reference"},[e._v(e._s(e.goodsName)+" "),s("i",{staticClass:"el-icon-edit"})])],1)],1),e.gameYGoods.length>0?s("li",[s("el-select",{attrs:{size:"medium",placeholder:"请选择"},on:{change:e.selGameYs},model:{value:e.gameYGoodsPath,callback:function(o){e.gameYGoodsPath=o},expression:"gameYGoodsPath"}},e._l(e.gameYGoods,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.path}})}),1)],1):e._e(),e.gameEGoods.length>0?s("li",[s("el-select",{attrs:{size:"medium",placeholder:"请选择"},on:{change:e.selGameEs},model:{value:e.gameEGoodsPath,callback:function(o){e.gameEGoodsPath=o},expression:"gameEGoodsPath"}},e._l(e.gameEGoods,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.path}})}),1)],1):e._e()])]),s("el-form",{ref:"ruleForm",staticClass:"form-label-12",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[s("el-form-item",{attrs:{label:"游戏账号",prop:"gameAccount"}},[s("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.gameAccount,callback:function(o){e.$set(e.ruleForm,"gameAccount",o)},expression:"ruleForm.gameAccount"}})],1),s("el-form-item",{attrs:{label:"游戏密码",prop:"pass"}},[s("el-input",{attrs:{type:"password",size:"small"},model:{value:e.ruleForm.pass,callback:function(o){e.$set(e.ruleForm,"pass",o)},expression:"ruleForm.pass"}})],1),s("el-form-item",{attrs:{label:"确认游戏密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password",size:"small"},model:{value:e.ruleForm.checkPass,callback:function(o){e.$set(e.ruleForm,"checkPass",o)},expression:"ruleForm.checkPass"}})],1),s("el-form-item",{attrs:{label:"角色名称",prop:"gameRole"}},[s("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.gameRole,callback:function(o){e.$set(e.ruleForm,"gameRole",o)},expression:"ruleForm.gameRole"}})],1),s("el-form-item",{attrs:{label:"商品标题",prop:"goodsTitle"}},[s("el-input",{staticClass:"w600",attrs:{maxlength:"100","show-word-limit":"",size:"small",placeholder:"商品标题中不可带有QQ号、微信号、手机号等一切联系方式，否则不予通过"},model:{value:e.ruleForm.goodsTitle,callback:function(o){e.$set(e.ruleForm,"goodsTitle",o)},expression:"ruleForm.goodsTitle"}})],1),s("el-form-item",{attrs:{label:"商品描述",prop:"goodsDes"}},[s("el-input",{attrs:{type:"textarea",rows:5,maxlength:"500","show-word-limit":"",size:"small",placeholder:"帐号的简介：比如装备、英雄、皮肤、时装等"},model:{value:e.ruleForm.goodsDes,callback:function(o){e.$set(e.ruleForm,"goodsDes",o)},expression:"ruleForm.goodsDes"}})],1),s("el-form-item",{attrs:{label:"押金",prop:"deposit"}},[s("el-input",{attrs:{size:"small"},model:{value:e.ruleForm.deposit,callback:function(o){e.$set(e.ruleForm,"deposit",o)},expression:"ruleForm.deposit"}},[s("template",{slot:"append"},[e._v("元")])],2),s("span",{staticClass:"color-tip"},[e._v("温馨提示：不设置押金更容易出租，默认无押金。")])],1),s("el-form-item",{attrs:{label:"图片上传",prop:"uploadImg"}},[s("el-upload",{attrs:{accept:".jpg,.jpeg,.png","list-type":"picture-card",action:e.upImgUrl,limit:10,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,"on-exceed":e.uploadExceed,"on-preview":e.uploadPictureCardPreview,"on-remove":e.uploadRemove}},[s("i",{staticClass:"el-icon-plus"}),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("已上传图片"),s("span",{staticClass:"color-success"},[e._v(e._s(e.ruleForm.uploadImg.length))]),e._v("/10张，每张图片最大支持1M，仅支持jpg/jpeg/png格式")])]),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(o){e.dialogVisible=o}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:"pic"}})])],1),s("div",{staticClass:"release-bar"},[s("h3",[e._v("确认基础信息"),s("span",[e._v("为了避免帐号造成的问题，请核对相关信息，确保正确无误哦~")])]),s("h4",[e._v("*提醒：如您确认上架分享账号，即表示您已经考虑过相关风险，且自行承担相应结果。如发生封号、冻结情况，蚂蚁网会全程配合用户提供相关信息以及法律上的一些援助。")])]),s("el-form-item",{attrs:{prop:"agreement"}},[s("el-checkbox",{model:{value:e.ruleForm.agreement,callback:function(o){e.$set(e.ruleForm,"agreement",o)},expression:"ruleForm.agreement"}},[e._v("我已经阅读相关协议"),s("router-link",{staticClass:"color-success",attrs:{to:"/"}},[e._v("《蚂蚁租号虚拟资产发布协议》")])],1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){return e.submitForm("ruleForm")}}},[e._v("确认")]),s("el-button",{attrs:{size:"small"},on:{click:function(o){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])},l=[function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"release-bar"},[s("h3",[e._v("填写发布商品的信息资料")])])}],a=(s("7f7f"),s("3228")),r={data:function(){var e=this,o=function(o,s,t){""===s?t(new Error("请输入新密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),t())},s=function(o,s,t){""===s?t(new Error("请再次输入新密码")):s!==e.ruleForm.pass?t(new Error("两次密码输入不一致!")):t()},t=function(e,o,s){o?s():s(new Error("请选择蚂蚁租号相关协议"))};return{upImgUrl:a["b"],popVisible:!1,radioFro:"1",goodsName:"选择游戏",gameSGoods:[],gameSGoodsPath:"",gameYGoods:[],gameYGoodsPath:"",gameEGoods:[],gameEGoodsPath:"",gameAllGoodsPath:"",dialogImageUrl:"",dialogVisible:!1,ruleForm:{gameAccount:"",pass:"",checkPass:"",gameRole:"",goodsTitle:"",goodsDes:"",uploadImg:[],deposit:0,agreement:!1},rules:{gameAccount:[{required:!0,message:"请输入游戏账号",trigger:"blur"}],pass:[{required:!0,validator:o,trigger:"blur"}],checkPass:[{required:!0,validator:s,trigger:"blur"}],gameRole:[{required:!0,message:"请输入角色名称",trigger:"blur"}],goodsTitle:[{required:!0,message:"请输入商品标题",trigger:"blur"}],goodsDes:[{required:!0,message:"请输入商品描述",trigger:"blur"}],uploadImg:[{required:!0,message:"请上传游戏图片"}],agreement:[{required:!0,validator:t,trigger:"change"}]}}},created:function(){this.selGameCls("游戏_端游")},methods:{selGameCls:function(e){var o=this;this.$api.post("GetChildrenType",JSON.stringify(e)).then(function(e){o.gameSGoods=e.obj})},selGames:function(e,o){var s=this;this.recode(),this.goodsName=e.name,this.gameSGoodsPath=e.path,this.gameAllGoodsPath=e.path,this.$api.post("GetChildrenType",JSON.stringify(e.path)).then(function(e){s.gameYGoods=e.obj})},selGameYs:function(e){var o=this;this.gameAllGoodsPath=e,this.$api.post("GetChildrenType",JSON.stringify(e)).then(function(e){o.gameEGoods=e.obj})},selGameEs:function(e){this.gameAllGoodsPath=e},beforeUpload:function(e){if(e.size>1048576)return this.$notify({title:"温馨提示",message:"单张图片最大仅限1M"}),!1},uploadExceed:function(){this.$notify({title:"温馨提示",message:"最大只能上传10张图片"})},uploadSuccess:function(e,o,s){this.ruleForm.uploadImg.push(o.url)},uploadRemove:function(e,o){var s=this.ruleForm.uploadImg.indexOf(e.url);s>-1&&this.ruleForm.uploadImg.splice(s,1)},uploadPictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},submitForm:function(e){var o=this;if("选择游戏"==this.goodsName)return this.$notify({title:"温馨提示",message:"请先选择游戏"}),!1;this.$refs[e].validate(function(e){e&&o.$api.post("AddGood",{goodPath:o.gameAllGoodsPath,accountName:o.ruleForm.gameAccount,accountPwd:o.ruleForm.pass,roleName:o.ruleForm.gameRole,title:o.ruleForm.goodsTitle,summary:o.ruleForm.goodsDes,deposit:o.ruleForm.deposit,imageUrl:o.ruleForm.uploadImg}).then(function(e){o.$notify({title:"温馨提示",message:"添加成功，请继续完善相关信息"}),o.$router.push({path:"/release-change",query:{goodsCode:e.obj}})})})},resetForm:function(e){this.$refs[e].resetFields()},recode:function(){this.popVisible=!1,this.gameYGoods=[],this.gameYGoodsPath="",this.gameEGoods=[],this.gameEGoodsPath=""}}},i=r,n=(s("e73c"),s("2877")),m=Object(n["a"])(i,t,l,!1,null,"a9ca65d6",null);o["default"]=m.exports},e73c:function(e,o,s){"use strict";var t=s("0546"),l=s.n(t);l.a}}]);
//# sourceMappingURL=chunk-a0f04e8e.180d83f8.js.map