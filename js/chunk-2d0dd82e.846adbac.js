(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd82e"],{8264:function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"change-pass"},[r("div",{staticClass:"account-puc"},[r("div",{staticClass:"change-pass-main"},[r("div",{staticClass:"radio"},[r("el-radio",{attrs:{label:1},model:{value:e.radioActive,callback:function(s){e.radioActive=s},expression:"radioActive"}},[e._v("原始密码")]),r("el-radio",{attrs:{label:2},model:{value:e.radioActive,callback:function(s){e.radioActive=s},expression:"radioActive"}},[e._v("短信验证")])],1),r("el-form",{ref:"ruleForm",staticClass:"form-label-12",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[2==e.radioActive?r("el-form-item",{staticClass:"row-item phone",attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{size:"small",maxlength:"11",placeholder:"请输入手机号"},model:{value:e.ruleForm.phone,callback:function(s){e.$set(e.ruleForm,"phone",e._n(s))},expression:"ruleForm.phone"}})],1):e._e(),2==e.radioActive?r("el-form-item",{staticClass:"row-item sms",attrs:{prop:"sms"}},[r("el-input",{attrs:{size:"small",placeholder:"验证码"},model:{value:e.ruleForm.sms,callback:function(s){e.$set(e.ruleForm,"sms",s)},expression:"ruleForm.sms"}}),e.isSms?r("el-button",{staticClass:"send-sms",attrs:{size:"small"},on:{click:e.sendSms}},[e._v("发送验证码")]):e._e(),e.isSms?e._e():r("el-button",{staticClass:"send-sms",attrs:{size:"small"}},[e._v(e._s(e.smsTimer)+"s后重新发送")])],1):e._e(),1==e.radioActive?r("el-form-item",{attrs:{label:"登录密码",prop:"opass"}},[r("el-input",{attrs:{type:"password",size:"small"},model:{value:e.ruleForm.opass,callback:function(s){e.$set(e.ruleForm,"opass",s)},expression:"ruleForm.opass"}})],1):e._e(),r("el-form-item",{attrs:{label:"新登录密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",size:"small"},model:{value:e.ruleForm.pass,callback:function(s){e.$set(e.ruleForm,"pass",s)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"确认新密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",size:"small"},model:{value:e.ruleForm.checkPass,callback:function(s){e.$set(e.ruleForm,"checkPass",s)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return e.submitForm("ruleForm")}}},[e._v("提交修改")])],1)],1)],1)])])},a=[],l={data:function(){var e=this,s=function(s,r,t){""===r?t(new Error("请输入新密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),t())},r=function(s,r,t){""===r?t(new Error("请再次输入新密码")):r!==e.ruleForm.pass?t(new Error("两次密码输入不一致!")):t()},t=function(e,s,r){var t=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;""===s?r(new Error("请输入手机号码")):t.test(s)?r():r(new Error("请正确输入手机号码!"))};return{isSms:!0,smsTimer:60,radioActive:1,ruleForm:{opass:"",pass:"",checkPass:"",phone:"",sms:""},rules:{opass:[{required:!0,message:"请输入登录密码",trigger:"blur"}],pass:[{required:!0,validator:s,trigger:"blur"}],checkPass:[{required:!0,validator:r,trigger:"blur"}],phone:[{required:!0,validator:t,trigger:"blur"},{type:"number",message:"手机号码须为数字"}],sms:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created:function(){var e=this;this.$api.post("BaseInfo").then(function(s){e.ruleForm.phone=parseInt(s.obj.tel)})},methods:{submitForm:function(e){var s=this;this.$refs[e].validate(function(e){if(e){var r={updateType:0,pwd:s.ruleForm.opass,newPwd:s.ruleForm.pass,tel:s.ruleForm.phone};2==s.radioActive&&(r.updateType=1,r.pwd=s.ruleForm.sms),s.$api.post("UpPwd",r).then(function(e){s.$notify({title:"温馨提示",message:"密码修改成功"}),s.radioActive=1,s.radioChange()})}})},sendSms:function(){var e=this;this.$api.post("SendTelCode",this.ruleForm.phone).then(function(s){e.$notify({title:"温馨提示",message:"验证码已发送，请注意查收。"}),e.isSms=!1;var r=setInterval(function(){e.smsTimer--,0==e.smsTimer&&(clearInterval(r),e.isSms=!0,e.smsTimer=60)},1e3)})},radioChange:function(){this.$refs["ruleForm"].resetFields()}}},o=l,i=r("2877"),n=Object(i["a"])(o,t,a,!1,null,"547ba823",null);s["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0dd82e.846adbac.js.map